<!-- Main Content with Dark Glass Morphism -->
<div class="flex items-center justify-center p-6 relative">
  <!-- Ambient Glow Effects -->
  <div class="absolute top-1/4 left-1/4 w-64 h-64 bg-amber-500/10 rounded-full blur-3xl animate-pulse"></div>
  <div class="absolute bottom-1/4 right-1/4 w-48 h-48 bg-orange-500/10 rounded-full blur-3xl animate-pulse delay-1000"></div>
  
  <div class="max-w-2xl w-full bg-slate-800/60 backdrop-blur-xl rounded-3xl shadow-2xl border border-slate-700/50 p-8 relative z-10">
    <!-- Header -->
    <div class="text-center mb-8">
      <h1 class="text-3xl font-bold text-slate-100 mb-2">Center Your Mind</h1>
      <p class="text-slate-200">Take a moment to breathe deeply and center yourself before your deep work session</p>
    </div>

    <!-- Breathing Circle -->
    <div class="flex justify-center mb-8">
      <div class="relative">
        <!-- Outer Ring -->
        <div 
          class="w-64 h-64 rounded-full border-4 border-amber-400/30 flex items-center justify-center transition-all duration-1000 ease-in-out shadow-lg shadow-amber-500/20"
          [style.transform]="'scale(' + outerScale() + ')'">
          
          <!-- Inner Circle -->
          <div 
            class="w-40 h-40 rounded-full bg-gradient-to-br from-amber-500 to-orange-600 flex items-center justify-center shadow-2xl shadow-amber-500/40 transition-all duration-1000 ease-in-out"
            [style.transform]="'scale(' + innerScale() + ')'">
            
            <!-- Breathing Icon -->
            <svg class="w-16 h-16 text-white opacity-90" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"/>
            </svg>
          </div>
        </div>
        
        <!-- Progress Ring -->
        <div class="absolute inset-0 w-64 h-64">
          <svg class="w-full h-full transform -rotate-90" viewBox="0 0 100 100">
            <circle
              cx="50"
              cy="50"
              r="45"
              fill="none"
              stroke="rgba(251, 191, 36, 0.2)"
              stroke-width="3"/>
            <circle
              cx="50"
              cy="50"
              r="45"
              fill="none"
              stroke="#f59e0b"
              stroke-width="3"
              stroke-linecap="round"
              [style.stroke-dasharray]="circumference()"
              [style.stroke-dashoffset]="strokeDashoffset()"
              class="transition-all duration-1000 ease-linear drop-shadow-lg"/>
          </svg>
        </div>
      </div>
    </div>

    <!-- Breathing Instructions -->
    <div class="text-center mb-8">
      <div class="mb-4">
        <h2 class="text-2xl font-semibold text-slate-100 mb-2">{{currentPhase()}}</h2>
        <p class="text-lg text-slate-200">{{instruction()}}</p>
      </div>
      
      <!-- Timer Display -->
      <div class="text-4xl font-bold text-amber-400 mb-4 drop-shadow-lg">{{currentCount()}}</div>
      
      <!-- Cycle Counter -->
      <div class="text-sm text-slate-300">
        Cycle {{completedCycles() + 1}} of {{totalCycles}}
      </div>
    </div>

    <!-- Controls -->
    <div class="flex justify-center space-x-4 mb-8">
      @if (!isActive()) {
        <button 
          (click)="startBreathing()"
          class="flex items-center px-8 py-3 bg-gradient-to-r from-amber-500 to-orange-600 text-white rounded-xl hover:from-amber-600 hover:to-orange-700 transition-all duration-300 font-medium shadow-lg shadow-amber-500/25 hover:shadow-amber-500/40 hover:scale-105">
          <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14.828 14.828a4 4 0 01-5.656 0M9 10h1m4 0h1m-6 4h8m2 0h1M4 21V9a4 4 0 014-4h8a4 4 0 014 4v12"/>
          </svg>
          Start Breathing
        </button>
      } @else {
        <button 
          (click)="pauseBreathing()"
          class="flex items-center px-6 py-3 bg-slate-600/80 backdrop-blur text-slate-100 rounded-xl hover:bg-slate-500/80 transition-all duration-300 font-medium border border-slate-500/50 hover:border-slate-400/50">
          <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 9v6m4-6v6m7-3a9 9 0 11-18 0 9 9 0 0118 0z"/>
          </svg>
          Pause
        </button>
        <button 
          (click)="resetBreathing()"
          class="flex items-center px-6 py-3 bg-slate-700/60 backdrop-blur text-slate-200 rounded-xl hover:bg-slate-600/60 transition-all duration-300 font-medium border border-slate-600/50 hover:border-slate-500/50">
          <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"/>
          </svg>
          Reset
        </button>
      }
    </div>

    <!-- Breathing Pattern Info -->
    <div class="bg-slate-700/40 backdrop-blur rounded-2xl p-6 mb-8 border border-slate-600/30">
      <h3 class="font-semibold text-amber-400 mb-3 text-lg">4-7-8 Breathing Pattern</h3>
      <div class="text-sm text-slate-200 space-y-2">
        <p class="flex items-center">
          <span class="w-2 h-2 bg-amber-400 rounded-full mr-3"></span>
          <strong class="text-amber-300">Inhale</strong> 
          <span class="ml-1">for 4 seconds through your nose</span>
        </p>
        <p class="flex items-center">
          <span class="w-2 h-2 bg-orange-400 rounded-full mr-3"></span>
          <strong class="text-orange-300">Hold</strong> 
          <span class="ml-1">for 7 seconds</span>
        </p>
        <p class="flex items-center">
          <span class="w-2 h-2 bg-red-400 rounded-full mr-3"></span>
          <strong class="text-red-300">Exhale</strong> 
          <span class="ml-1">for 8 seconds through your mouth</span>
        </p>
      </div>
    </div>

    <!-- Navigation -->
    <div class="flex justify-between">
      <button 
        (click)="goBack()"
        class="flex items-center px-6 py-3 text-slate-300 hover:text-slate-100 transition-all duration-300 rounded-xl hover:bg-slate-700/40 backdrop-blur">
        <svg class="w-4 h-4 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"/>
        </svg>
        Back
      </button>
      
      <button 
        (click)="continue()"
        [disabled]="completedCycles() < 1"
        [class]="completedCycles() >= 1 ? 
          'flex items-center px-8 py-3 bg-gradient-to-r from-amber-500 to-orange-600 text-white rounded-xl hover:from-amber-600 hover:to-orange-700 transition-all duration-300 shadow-lg shadow-amber-500/25 hover:shadow-amber-500/40 hover:scale-105' : 
          'flex items-center px-8 py-3 bg-slate-600/40 text-slate-400 rounded-xl cursor-not-allowed backdrop-blur border border-slate-600/30'">
        Continue
        <svg class="w-4 h-4 ml-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"/>
        </svg>
      </button>
    </div>
  </div>
</div>
