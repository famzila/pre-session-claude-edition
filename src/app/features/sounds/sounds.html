<!-- Main Content -->
  <div class="flex items-center justify-center p-6">
    <div class="max-w-4xl w-full bg-slate-800/60 backdrop-blur-xl rounded-3xl shadow-2xl border border-slate-700/50 p-8 shadow-amber-500/5">
      <!-- Header -->
      <div class="text-center mb-8">
        <h1 class="text-3xl font-bold text-slate-100 mb-2 drop-shadow-lg">Choose Your Focus Sound</h1>
        <p class="text-slate-300">Select ambient sounds to help maintain concentration during your deep work session</p>
      </div>

      <!-- Sound Grid -->
      <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8">
        @for (sound of sounds(); track sound.id) {
          <div 
            (click)="selectSound(sound.id)"
            [class]="selectedSoundId() === sound.id ? 'p-6 rounded-2xl border-2 border-amber-400/60 bg-slate-700/40 backdrop-blur-sm cursor-pointer transition-all duration-300 hover:shadow-lg shadow-amber-400/20 hover:border-amber-300/70' : 'p-6 rounded-2xl border-2 border-slate-600/50 bg-slate-700/40 backdrop-blur-sm cursor-pointer transition-all duration-300 hover:shadow-md hover:border-amber-400/40 hover:bg-slate-600/50'">
            
            <!-- Icon -->
            <div class="flex justify-center mb-4">
              <div [class]="selectedSoundId() === sound.id ? 'w-16 h-16 bg-gradient-to-br from-amber-400/20 to-orange-500/20 rounded-full flex items-center justify-center border border-amber-400/30 shadow-amber-400/10 shadow-lg' : 'w-16 h-16 bg-slate-600/50 rounded-full flex items-center justify-center border border-slate-500/50 hover:bg-slate-500/60 transition-all duration-300'">
                
                <!-- Rain Icon -->
                @if (sound.id === 1) {
                  <svg [class]="selectedSoundId() === sound.id ? 'w-8 h-8 text-amber-400' : 'w-8 h-8 text-slate-300'" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 15a4 4 0 004 4h9a5 5 0 10-.1-9.999 5.002 5.002 0 10-9.78 2.096A4.001 4.001 0 003 15z"></path>
                  </svg>
                }
                
                <!-- Ocean Waves Icon -->
                @if (sound.id === 2) {
                  <svg [class]="selectedSoundId() === sound.id ? 'w-8 h-8 text-amber-400' : 'w-8 h-8 text-slate-300'" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14.828 14.828a4 4 0 01-5.656 0M9 10h1m4 0h1m-6 4h8m2 0h1M4 21V9a4 4 0 014-4h8a4 4 0 014 4v12"></path>
                  </svg>
                }
                
                <!-- Forest Icon -->
                @if (sound.id === 3) {
                  <svg [class]="selectedSoundId() === sound.id ? 'w-8 h-8 text-amber-400' : 'w-8 h-8 text-slate-300'" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z M7 13h10M12 16v5M8 20h8"></path>
                  </svg>
                }
                
                <!-- Coffee Shop Icon -->
                @if (sound.id === 4) {
                  <svg [class]="selectedSoundId() === sound.id ? 'w-8 h-8 text-amber-400' : 'w-8 h-8 text-slate-300'" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 11V7a4 4 0 118 0m-4 8v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2z M17 11h2a2 2 0 012 2v1a2 2 0 01-2 2h-2"></path>
                  </svg>
                }
                
                <!-- Brown Noise Icon -->
                @if (sound.id === 5) {
                  <svg [class]="selectedSoundId() === sound.id ? 'w-8 h-8 text-amber-400' : 'w-8 h-8 text-slate-300'" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15.536 8.464a5 5 0 010 7.072m2.828-9.9a9 9 0 010 12.728M6 10v4M10 8v8M14 6v12M18 4v16"></path>
                  </svg>
                }
                
                <!-- Pink Noise Icon -->
                @if (sound.id === 6) {
                  <svg [class]="selectedSoundId() === sound.id ? 'w-8 h-8 text-amber-400' : 'w-8 h-8 text-slate-300'" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19V6l12-3v13M9 19c0 1.105-1.343 2-3 2s-3-.895-3-2 1.343-2 3-2 3 .895 3 2z M21 16c0 1.105-1.343 2-3 2s-3-.895-3-2 1.343-2 3-2 3 .895 3 2z"></path>
                  </svg>
                }
                
              </div>
            </div>
            
            <!-- Title and Description -->
            <div class="text-center mb-4">
              <h3 [class]="selectedSoundId() === sound.id ? 'text-lg font-semibold text-slate-100 mb-1 drop-shadow-sm' : 'text-lg font-semibold text-slate-200 mb-1'">{{sound.name}}</h3>
              <p class="text-sm text-slate-300">{{sound.description}}</p>
            </div>
            
            <!-- Preview Button -->
            <div class="flex justify-center">
              <button 
                (click)="togglePreview(sound.id, $event)"
                [class]="isPlaying() === sound.id ? 'flex items-center px-4 py-2 bg-gradient-to-r from-amber-500 to-orange-600 text-white rounded-lg text-sm font-medium hover:from-amber-600 hover:to-orange-700 transition-all duration-300 shadow-lg shadow-amber-500/20' : 'flex items-center px-4 py-2 bg-slate-600/60 text-slate-200 rounded-lg text-sm font-medium hover:bg-slate-500/70 hover:text-slate-100 transition-all duration-300 backdrop-blur-sm border border-slate-500/50'">
                @if (isPlaying() === sound.id) {
                  <svg class="w-4 h-4 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 9v6m4-6v6m7-3a9 9 0 11-18 0 9 9 0 0118 0z"/>
                  </svg>
                  Stop
                } @else {
                  <svg class="w-4 h-4 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14.828 14.828a4 4 0 01-5.656 0M9 10h1m4 0h1m-6 4h8m2 0h1M4 21V9a4 4 0 014-4h8a4 4 0 014 4v12"/>
                  </svg>
                  Preview
                }
              </button>
            </div>
          </div>
        }
      </div>

      <!-- Navigation -->
      <div class="flex justify-between">
        <button 
          (click)="goBack()"
          class="flex items-center px-6 py-3 text-slate-300 hover:text-slate-100 transition-all duration-300 hover:bg-slate-700/40 rounded-xl backdrop-blur-sm">
          <svg class="w-4 h-4 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"/>
          </svg>
          Back
        </button>
        
        <button 
          (click)="continue()"
          [disabled]="!selectedSoundId()"
          [class]="selectedSoundId() ? 'flex items-center px-8 py-3 bg-gradient-to-r from-amber-500 to-orange-600 text-white rounded-xl hover:from-amber-600 hover:to-orange-700 transition-all duration-300 shadow-lg shadow-amber-500/20' : 'flex items-center px-8 py-3 bg-slate-600/30 text-slate-500 rounded-xl cursor-not-allowed backdrop-blur-sm border border-slate-600/50'">
          Continue
          <svg class="w-4 h-4 ml-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"/>
          </svg>
        </button>
      </div>
    </div>
  </div>
